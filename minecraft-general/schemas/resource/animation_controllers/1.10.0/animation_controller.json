{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "minecraft.resource.animation_controller1.10.0",
  "type": "object",
  "title": "The minecraft resourcepack animation_controller 1.10.0",
  "description": "The root schema comprises the entire JSON document.",
  "definitions": {
    //animation specification
    "animationspec": {
      "anyOf": [
        //Single string
        {
          "title": "Animation Specification",
          "description": "A single string that specifies which animation there are",
          "type": "string"
        },
        //Object
        {
          "type": "object",
          "description": "A object specification on how to transition",
          "additionalProperties": {
            "$ref": "../../../molang/1.8.0/string.json"
          }
        }
      ]
    },
    "particleEffectItem": {
      "description": "The effect to be emitted",
      "type": "object",
      "properties": {
        "effect": {
          "description": "The effects name to apply",
          "type": "string"
        },
        "locator": {
          "description": "The locator to be using",
          "type": "string"
        }
      }
    }
  },
  "required": ["format_version", "animation_controllers"],
  "additionalProperties": false,
  "properties": {
    "format_version": {
      "title": "The 1.10.0 format_version",
      "type": "string",
      "pattern": "^1.10.0$"
    },
    "animation_controllers": {
      "title": "The animation controllers schema",
      "description": "The animation controllers schema for 1.10.0",
      "propertyNames": { "pattern": "^controller\\.[a-z\\.]+" },
      "additionalProperties": {
        "additionalProperties": false,
        "type": "object",
        "title": "A animation controller",
        "description": "A single animation controller 1.10.0",
        "required": ["states"],
        "minProperties": 1,

        "properties": {
          "states": {
            "title": "The states definition",
            "description": "The states of this animation controller",
            "propertyNames": { "pattern": "[a-z\\.]+" },
            "minProperties": 1,
            "additionalProperties": {
              "additionalProperties": false,
              "title": "animation state",
              "description": "animation state",
              "type": "object",
              "properties": {
                "animations": {
                  "title": "Animations definition",
                  "description": "The animations definition for 1.10.0",
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/animationspec"
                  }
                },
                "transitions": {
                  "title": "Transition definition",
                  "description": "The transition definition for 1.10.0",
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/animationspec"
                  }
                },
                "blend_transition": {
                  "description": "The amount of time its takes to blend into the animation",
                  "type": "number"
                },
                "particle_effects": {
                  "description": "The effects to be emitted",
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/particleEffectItem"
                  }
                }
              }
            }
          },
          "initial_state": {
            "type": "string"
          },
          "blend_via_shortest_path": {
            "type": "boolean"
          }
        }
      }
    }
  }
}
