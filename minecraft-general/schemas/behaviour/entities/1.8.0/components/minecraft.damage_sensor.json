{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "minecraft.behaviour.entities.1.8.0.minecraft.damage_sensor",
  "type": "object",
  "title": "minecraft:damage_sensor 1.8.0",
  "additionalProperties": false,
  "description": "Defines what events to call when this entity is damaged by specific entities or items.",
  "required": [],
  "properties": {
    "triggers": {
      "type": "array",
      "description": "List of triggers with the events to call when taking specific kinds of damage.",
      "items": {
        "type":"object",
        "description": "A trigger with the events to call when taking specific kinds of damage.",
        "additionalProperties": false,
        "properties": {
          "cause": {
            "type": "string",
            "default": "none",
            "description": "Type of damage that triggers the events.",
            "enum": [
              "none",
              "all",
              "entity_attack",
              "projectile", 
              "magic"
            ]
          },
          "deals_damage": {
            "type": "boolean",
            "default": true,
            "description": "If true, the damage dealt to the entity will take away health from it, set to false to make the entity ignore that damage."
          },
          "on_damage": {
            "additionalProperties": false,
            "type": "object",            
            "properties": {
              "filters": { "$ref": "../filters.json" },
              "event": { "type": "string", "pattern": "^.*$" },
              "target": { 
                "type": "string",
                "$ref": "../filters/types/base_subject.json"
              }
            },
            "description": "Specifies filters for entity definitions and events."
          }
        }
      }
    }
  }
}